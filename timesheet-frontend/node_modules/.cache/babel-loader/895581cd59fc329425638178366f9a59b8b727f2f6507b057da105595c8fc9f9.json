{"ast":null,"code":"import React from'react';import{Routes,Route,Navigate}from'react-router-dom';import LoginPage from'./pages/LoginPage';import RegisterPage from'./pages/RegisterPage';import AdminDashboard from'./pages/AdminDashboard';import StudentDashboard from'./pages/StudentDashboard';import StudentTimesheetView from'./pages/StudentTimesheetView';import ProfilePage from'./pages/ProfilePage';import{useAuth}from'./context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const{user}=useAuth();return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:!user?/*#__PURE__*/_jsx(LoginPage,{}):user.role==='admin'?/*#__PURE__*/_jsx(Navigate,{to:\"/admin\"}):/*#__PURE__*/_jsx(Navigate,{to:\"/student\"})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(RegisterPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:(user===null||user===void 0?void 0:user.role)==='admin'?/*#__PURE__*/_jsx(AdminDashboard,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/student\",element:(user===null||user===void 0?void 0:user.role)==='student'?/*#__PURE__*/_jsx(StudentDashboard,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/student/:id/timesheets\",element:(user===null||user===void 0?void 0:user.role)==='admin'?/*#__PURE__*/_jsx(StudentTimesheetView,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:user?/*#__PURE__*/_jsx(ProfilePage,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\"})})]});}export default App;","map":{"version":3,"names":["React","Routes","Route","Navigate","LoginPage","RegisterPage","AdminDashboard","StudentDashboard","StudentTimesheetView","ProfilePage","useAuth","jsx","_jsx","jsxs","_jsxs","App","user","children","path","element","role","to"],"sources":["C:/Users/pondz/OneDrive/เอกสาร/Github/TimeSheetForStudent-test001/TimeSheetForStudent/timesheet-frontend/src/App.js"],"sourcesContent":["import React from 'react';\r\nimport { Routes, Route, Navigate } from 'react-router-dom';\r\nimport LoginPage from './pages/LoginPage';\r\nimport RegisterPage from './pages/RegisterPage';\r\nimport AdminDashboard from './pages/AdminDashboard';\r\nimport StudentDashboard from './pages/StudentDashboard';\r\nimport StudentTimesheetView from './pages/StudentTimesheetView';\r\nimport ProfilePage from './pages/ProfilePage';\r\nimport { useAuth } from './context/AuthContext';\r\n\r\nfunction App() {\r\n  const { user } = useAuth();\r\n\r\n  return (\r\n    <Routes>\r\n      <Route\r\n        path=\"/\"\r\n        element={\r\n          !user ? <LoginPage /> :\r\n            user.role === 'admin' ? <Navigate to=\"/admin\" /> :\r\n              <Navigate to=\"/student\" />\r\n        }\r\n      />\r\n      <Route path=\"/register\" element={<RegisterPage />} />\r\n\r\n      <Route\r\n        path=\"/admin\"\r\n        element={user?.role === 'admin' ? <AdminDashboard /> : <Navigate to=\"/\" />}\r\n      />\r\n      <Route\r\n        path=\"/student\"\r\n        element={user?.role === 'student' ? <StudentDashboard /> : <Navigate to=\"/\" />}\r\n      />\r\n      <Route\r\n        path=\"/admin/student/:id/timesheets\"\r\n        element={user?.role === 'admin' ? <StudentTimesheetView /> : <Navigate to=\"/\" />}\r\n      />\r\n      <Route\r\n        path=\"/profile\"\r\n        element={user ? <ProfilePage /> : <Navigate to=\"/\" />}\r\n      />\r\n      <Route path=\"*\" element={<Navigate to=\"/\" />} />\r\n    </Routes>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CAC1D,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,YAAY,KAAM,sBAAsB,CAC/C,MAAO,CAAAC,cAAc,KAAM,wBAAwB,CACnD,MAAO,CAAAC,gBAAgB,KAAM,0BAA0B,CACvD,MAAO,CAAAC,oBAAoB,KAAM,8BAA8B,CAC/D,MAAO,CAAAC,WAAW,KAAM,qBAAqB,CAC7C,OAASC,OAAO,KAAQ,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAAEC,IAAK,CAAC,CAAGN,OAAO,CAAC,CAAC,CAE1B,mBACEI,KAAA,CAACb,MAAM,EAAAgB,QAAA,eACLL,IAAA,CAACV,KAAK,EACJgB,IAAI,CAAC,GAAG,CACRC,OAAO,CACL,CAACH,IAAI,cAAGJ,IAAA,CAACR,SAAS,GAAE,CAAC,CACnBY,IAAI,CAACI,IAAI,GAAK,OAAO,cAAGR,IAAA,CAACT,QAAQ,EAACkB,EAAE,CAAC,QAAQ,CAAE,CAAC,cAC9CT,IAAA,CAACT,QAAQ,EAACkB,EAAE,CAAC,UAAU,CAAE,CAC9B,CACF,CAAC,cACFT,IAAA,CAACV,KAAK,EAACgB,IAAI,CAAC,WAAW,CAACC,OAAO,cAAEP,IAAA,CAACP,YAAY,GAAE,CAAE,CAAE,CAAC,cAErDO,IAAA,CAACV,KAAK,EACJgB,IAAI,CAAC,QAAQ,CACbC,OAAO,CAAE,CAAAH,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEI,IAAI,IAAK,OAAO,cAAGR,IAAA,CAACN,cAAc,GAAE,CAAC,cAAGM,IAAA,CAACT,QAAQ,EAACkB,EAAE,CAAC,GAAG,CAAE,CAAE,CAC5E,CAAC,cACFT,IAAA,CAACV,KAAK,EACJgB,IAAI,CAAC,UAAU,CACfC,OAAO,CAAE,CAAAH,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEI,IAAI,IAAK,SAAS,cAAGR,IAAA,CAACL,gBAAgB,GAAE,CAAC,cAAGK,IAAA,CAACT,QAAQ,EAACkB,EAAE,CAAC,GAAG,CAAE,CAAE,CAChF,CAAC,cACFT,IAAA,CAACV,KAAK,EACJgB,IAAI,CAAC,+BAA+B,CACpCC,OAAO,CAAE,CAAAH,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEI,IAAI,IAAK,OAAO,cAAGR,IAAA,CAACJ,oBAAoB,GAAE,CAAC,cAAGI,IAAA,CAACT,QAAQ,EAACkB,EAAE,CAAC,GAAG,CAAE,CAAE,CAClF,CAAC,cACFT,IAAA,CAACV,KAAK,EACJgB,IAAI,CAAC,UAAU,CACfC,OAAO,CAAEH,IAAI,cAAGJ,IAAA,CAACH,WAAW,GAAE,CAAC,cAAGG,IAAA,CAACT,QAAQ,EAACkB,EAAE,CAAC,GAAG,CAAE,CAAE,CACvD,CAAC,cACFT,IAAA,CAACV,KAAK,EAACgB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEP,IAAA,CAACT,QAAQ,EAACkB,EAAE,CAAC,GAAG,CAAE,CAAE,CAAE,CAAC,EAC1C,CAAC,CAEb,CAEA,cAAe,CAAAN,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}